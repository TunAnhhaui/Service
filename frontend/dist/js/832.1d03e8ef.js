"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[832],{7832:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"top-0 mt-2"},[t.addSize?e("div",{staticClass:"fixed flex justify-center items-center z-20 inset-0 bg-black bg-opacity-50 h-[100vh] w-full",on:{click:function(e){t.addSize=!1}}},[e("div",{staticClass:"bg-white w-full mx-auto md:w-1/4 p-2 relative"},[e("div",{staticClass:"absolute top-0 right-0 cursor-pointer",on:{click:function(e){t.addSize=!1}}},[e("VueIcon",{attrs:{type:"mdi",path:t.mdiClose}})],1),e("div",{staticClass:"flex flex-col gap-2"},[e("div",{staticClass:"flex flex-col"},[e("label",{attrs:{for:"Size"}},[t._v("Kích thước")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.sizeId,expression:"sizeId"}],staticClass:"border-b w-full p-2 outline-none",attrs:{id:"Size"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sizeId=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:""}},[t._v("Kích thước")]),t._l(t.sizes,(function(s){return e("option",{key:s.sizeId,domProps:{value:s.sizeId}},[t._v(t._s(s.name))])}))],2)]),e("div",[e("label",{attrs:{for:"Price"}},[t._v("Giá")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"border-b w-full p-2 outline-none",attrs:{type:"number",id:"Price",placeholder:"Giá"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),e("div",[e("label",{attrs:{for:"Discounted"}},[t._v("Ưu đãi %")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.discounted,expression:"discounted"}],staticClass:"border-b w-full p-2 outline-none",attrs:{type:"number",id:"Discounted",placeholder:"Ưu đãi %"},domProps:{value:t.discounted},on:{input:function(e){e.target.composing||(t.discounted=e.target.value)}}})]),e("div",{staticClass:"bg-blue-500 text-center p-2 text-white cursor-pointer",on:{click:t.UpdateSize}},[t._v("Cập nhật")])])])]):t._e(),e("div",{staticClass:"flex items-center gap-2 p-2"},[e("router-link",{attrs:{to:{name:"adminHome"}}},[t._v("Home:")]),e("VueIcon",{attrs:{type:"mdi",path:t.mdiChevronRight}}),e("router-link",{staticClass:"text-sm",attrs:{to:{name:"adminProduct"}}},[t._v("Sản phẩm")]),e("VueIcon",{attrs:{type:"mdi",path:t.mdiChevronRight}}),e("p",{staticClass:"text-sm"},[t._v(t._s(t.product.name))])],1),e("div",{staticClass:"flex flex-col gap-5 items-center bg-white"},[e("div",{staticClass:"flex w-full gap-2 p-2"},[e("img",{staticClass:"w-14 h-14",attrs:{src:t.product.image,alt:""}}),e("div",{staticClass:"flex flex-col"},[e("p",{staticClass:"text-sm"},[t._v(t._s(t.product.name))]),e("p",{staticClass:"text-sm text-gray-500"},[t._v("Mã mặt hàng "+t._s(t.product.productId))])])]),e("div",{staticClass:"flex gap-5 w-full px-2"},[e("div",{staticClass:"cursor-pointer py-1",class:"tab1"===t.tab?"border-b-2 border-blue-500 text-black":"text-gray-500",attrs:{id:"tab1"},on:{click:function(e){t.tab="tab1"}}},[t._v("Thông tin mặt hàng")]),e("div",{staticClass:"cursor-pointer text-gray-500 py-1",class:"tab2"===t.tab?"border-b-2 border-blue-500 text-black":"text-gray-500",attrs:{id:"tab2"},on:{click:function(e){t.tab="tab2"}}},[t._v("Phản hồi của khách hàng")])])]),"tab1"===t.tab?e("div",{staticClass:"flex flex-col gap-4 p-4"},[e("div",{staticClass:"grid grid-cols-3 gap-5"},[e("div",{staticClass:"flex flex-col items-center bg-white p-2 text-sm"},[e("star-rating",{attrs:{"star-size":17,"show-rating":!1,increment:.1,"read-only":!0,"fixed-points":1},model:{value:t.listComments.averageRate,callback:function(e){t.$set(t.listComments,"averageRate",e)},expression:"listComments.averageRate "}}),e("p",{staticClass:"text-gray-400"},[t._v("("+t._s(t.listComments.averageRate)+")")])],1),e("div",{staticClass:"flex flex-col items-center bg-white p-2"},[e("p",{staticClass:"text-sm text-gray-400"},[t._v("Đã bán")]),e("p",[t._v(t._s(t.product.sell||0))])]),e("div",{staticClass:"flex flex-col items-center bg-white p-2"},[e("p",{staticClass:"text-sm text-gray-400"},[t._v("Đánh giá")]),e("p",[t._v(t._s(t.listComments.count))])])]),e("div",{staticClass:"bg-white p-2 flex flex-col gap-5"},[e("h1",{staticClass:"font-bold"},[t._v("Thông tin cơ bản")]),e("div",{staticClass:"flex flex-col gap-2"},[e("div",{staticClass:"flex"},[e("p",{staticClass:"min-w-28"},[t._v("Giá bán")]),e("p",[t._v(t._s(t._f("numeral")(t.product.price))+" đ")])]),e("div",{staticClass:"flex"},[e("p",{staticClass:"min-w-28"},[t._v("Màu sắc")]),e("div",{staticClass:"flex gap-2"},[t._l(t.product.productColors,(function(t){return e("div",{key:t.productColorId,staticClass:"w-5 h-5 rounded-full",style:{backgroundColor:t.color.code}})})),e("div",{staticClass:"relative group w-5 h-5 flex justify-center items-center cursor-pointer border-2"},[t._v("+ "),e("div",{staticClass:"hidden group-hover:flex absolute -top-5 left-5 border p-1 flex-wrap gap-3 bg-white w-40"},t._l(t.colors,(function(s){return e("div",{key:s.colorId,staticClass:"w-5 h-5 rounded-full",style:{backgroundColor:s.code},on:{click:function(e){return t.selectColor(s.colorId)}}})})),0)])],2)]),e("div",{staticClass:"flex"},[e("p",{staticClass:"min-w-28"},[t._v("Kích thước")]),e("div",{staticClass:"flex gap-2"},[t._l(t.product.productSizes,(function(s){return e("div",{key:s.productSizeId},[t._v(t._s(s.size.name)+",")])})),e("div",{staticClass:"relative w-5 h-5 flex justify-center items-center cursor-pointer border-2",on:{click:function(e){t.addSize=!0}}},[t._v("+")])],2)]),e("div",{staticClass:"flex"},[e("div",{staticClass:"min-w-28"},[t._v("Mô tả")]),e("div",{},[t._v(t._s(t.product.description))])])])])]):t._e(),"tab2"===t.tab?e("div",{},[e("div",{staticClass:"overflow-y-auto"},t._l(t.listComments.comments,(function(s){return e("div",{key:s.commentId,staticClass:"border-b"},[e("div",{staticClass:"flex mt-3 items-center gap-3"},[t._m(0,!0),e("div",{staticClass:"flex flex-col"},[e("p",{staticClass:"text-sm md:text-md"},[t._v(t._s(s.user.email))]),e("div",{staticClass:"flex"},[e("star-rating",{attrs:{"star-size":17,"show-rating":!1,increment:.1,"read-only":!0,"fixed-points":1},model:{value:s.rate,callback:function(e){t.$set(s,"rate",e)},expression:"item.rate"}})],1),e("p",{staticClass:"text-[10px]"},[t._v(t._s(s.createdDate))])])]),e("div",{staticClass:"my-2 px-2"},[e("span",{staticClass:"text-xs sm:text-base"},[t._v(t._s(s.commentText))]),s.imageUrl?e("div",{staticClass:"flex gap-3"},[e("img",{staticClass:"w-10 h-10 sm:w-20 sm:h-20",attrs:{src:s.imageUrl}})]):t._e()])])})),0),t.listComments.count>10?e("button",{staticClass:"w-full text-center bg-[#271511] text-white leading-8"},[t._v("Xem thêm bình luận (10)")]):t._e()]):t._e()])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"border w-10 h-10 rounded-[50%]"},[e("img",{staticClass:"rounded-[50%]",attrs:{src:"/assets/image/New/new1.webp",alt:""}})])}],o=s(2132),c=s(4373),l=s(6503),r=s.n(l),n={name:"ViewProduct",components:{StarRating:r()},data(){return{mdiChevronRight:o.mI8,mdiClose:o.hyP,productId:this.$route.query.msp,product:"",listComments:"",tab:"tab1",sizes:"",colors:"",sizeId:"",price:0,discounted:0,addSize:!1}},watch:{"$route.query.msp":function(t){this.productId=t,this.getProduct()}},mounted(){this.getProduct(),this.getComment(),this.getColors(),this.getSize()},methods:{async selectColor(t){try{await c.A.post("/ProductColor/create",{productId:this.productId,colorId:t}),this.getProduct()}catch(e){console.log(e)}},async getProduct(){try{const t=await c.A.get(`/Product/getOne/${this.productId}`);this.product=t.data}catch(t){console.log(t)}},async getComment(){try{const t=await c.A.get(`/Comment/getByProduct/${this.productId}`);this.listComments=t.data}catch(t){console.log(t)}},async getColors(){try{const t=await c.A.get("/Color/getAll");this.colors=t.data}catch(t){console.log(t)}},async getSize(){try{const t=await c.A.get("/Size/getAll");this.sizes=t.data}catch(t){console.log(t)}},async UpdateSize(){try{await c.A.post("/ProductSize/create",{productId:this.productId,price:this.price,discounted:this.discounted,sizeId:this.sizeId}),this.getProduct(),this.addSize=!1}catch(t){console.log(t)}}}},d=n,u=s(1656),p=(0,u.A)(d,i,a,!1,null,null,null),m=p.exports}}]);
//# sourceMappingURL=832.1d03e8ef.js.map