{"version":3,"file":"js/262.48825306.js","mappings":"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","sources":["webpack://frontend/./src/components/admin/Order/OrderView.vue","webpack://frontend/src/components/admin/Order/OrderView.vue","webpack://frontend/./src/components/admin/Order/OrderView.vue?6c14","webpack://frontend/./src/components/admin/Order/OrderView.vue?08fb"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"mt-2 relative\"},[_c('div',{staticClass:\"flex items-center gap-2 p-2\"},[_c('router-link',{attrs:{\"to\":{name:'adminHome'}}},[_vm._v(\"Home:\")]),_c('VueIcon',{attrs:{\"type\":\"mdi\",\"path\":_vm.mdiChevronRight}}),_c('p',{staticClass:\"text-sm\"},[_vm._v(\"Đơn hàng\")])],1),_c('div',{staticClass:\"bg-white shadow-lg mt-1\"},[_c('table',{staticClass:\"w-full text-xs\"},[_vm._m(0),_c('tbody',[_vm._l((_vm.data),function(item){return _c('tr',{key:item.orderId},[_c('td',{staticClass:\"border text-center hover:text-blue-500 cursor-pointer\",attrs:{\"scope\":\"col\"},on:{\"click\":function($event){return _vm.toggleDetails(item.orderId)}}},[_vm._v(\"#\"+_vm._s(item.orderId))]),_c('td',{staticClass:\"border text-center\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm.formatDate(item.createDate)))]),_c('td',{staticClass:\"border text-center\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm._f(\"numeral\")(item.totalAmount))+\" đ\")]),_c('td',{staticClass:\"border text-center\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(item.paymentStatus))]),_c('td',{staticClass:\"border text-center\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(item.shippingStatus))]),_c('td',{staticClass:\"flex gap-2 justify-center items-center border\"},[_c('div',{staticClass:\"cursor-pointer\",class:item.shippingStatus==='Đã giao' ? 'text-blue-500':'text-red-500',on:{\"click\":function($event){return _vm.Update(item.orderId,item.paymentStatus,item.shippingStatus)}}},[_c('VueIcon',{attrs:{\"type\":\"mdi\",\"path\":_vm.mdiCheckCircle}})],1),_c('div',{staticClass:\"text-red-500\"},[_c('VueIcon',{attrs:{\"type\":\"mdi\",\"path\":_vm.mdiCloseCircle}})],1)])])}),(_vm.selectedOrderId === _vm.orderDetail.orderId)?_c('tr',[_c('td',{staticClass:\"p-4\",attrs:{\"colspan\":\"6\"}},[_c('div',{staticClass:\"bg-gray-100 p-2\"},[_c('p',[_c('strong',[_vm._v(\"Chi tiết đơn hàng #\"+_vm._s(_vm.orderDetail.orderId))])]),_c('p',[_vm._v(\"Khách hàng: \"+_vm._s(_vm.orderDetail.user.username))]),_c('p',[_vm._v(\"Địa chỉ: \"+_vm._s(_vm.orderDetail.address))]),_c('p',[_vm._v(\"Số điện thoại: \"+_vm._s(_vm.orderDetail.phone))])])])]):_vm._e()],2)])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',{staticClass:\"border\"},[_c('tr',{staticClass:\"bg-gray-400 text-center\"},[_c('td',{staticClass:\"p-2 border\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Đơn hàng\")]),_c('td',{staticClass:\"p-2 border\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Ngày\")]),_c('td',{staticClass:\"p-2 border\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Đơn giá\")]),_c('td',{staticClass:\"p-2 border\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Thanh toán\")]),_c('td',{staticClass:\"p-2 border\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Vận chuyển\")]),_c('td',{staticClass:\"p-2 border\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Hành động\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\" mt-2 relative\">\r\n        <div class=\"flex items-center gap-2 p-2\">\r\n            <router-link :to=\"{name:'adminHome'}\">Home:</router-link>\r\n            <VueIcon type=\"mdi\" :path=\"mdiChevronRight\"/>\r\n            <p class=\"text-sm\">Đơn hàng</p>\r\n        </div>\r\n        <div class=\"bg-white shadow-lg mt-1\">\r\n            <table class=\"w-full text-xs\">\r\n                <thead class=\"border\">\r\n                    <tr class=\"bg-gray-400 text-center\">\r\n                        <td scope=\"col\" class=\"p-2 border\">Đơn hàng</td>\r\n                        <td scope=\"col\" class=\"p-2 border\">Ngày</td>\r\n                        <td scope=\"col\" class=\"p-2 border\">Đơn giá</td>\r\n                        <td scope=\"col\" class=\"p-2 border\">Thanh toán</td>\r\n                        <td scope=\"col\" class=\"p-2 border\">Vận chuyển</td>\r\n                        <td scope=\"col\" class=\"p-2 border\">Hành động</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"item in data\" :key=\"item.orderId\" class=\"\">\r\n                        <td scope=\"col\" @click=\"toggleDetails(item.orderId)\" class=\"border text-center hover:text-blue-500 cursor-pointer\">#{{ item.orderId }}</td>\r\n                        <td scope=\"col\" class=\"border text-center\">{{ formatDate(item.createDate) }}</td>\r\n                        <td scope=\"col\" class=\"border text-center\">{{ item.totalAmount | numeral }} đ</td>\r\n                        <td scope=\"col\" class=\"border text-center\">{{ item.paymentStatus }}</td>\r\n                        <td scope=\"col\" class=\"border text-center\">{{ item.shippingStatus }}</td>\r\n                        <td class=\"flex gap-2 justify-center items-center border\">\r\n                            <div @click=\"Update(item.orderId,item.paymentStatus,item.shippingStatus)\" :class=\"item.shippingStatus==='Đã giao' ? 'text-blue-500':'text-red-500'\" class=\" cursor-pointer\"><VueIcon type=\"mdi\" :path=\"mdiCheckCircle\"/></div>\r\n                            <div class=\"text-red-500\"><VueIcon type=\"mdi\" :path=\"mdiCloseCircle\"/></div>\r\n                        </td>\r\n                    </tr>\r\n                    <tr v-if=\"selectedOrderId === orderDetail.orderId\">\r\n                        <td colspan=\"6\" class=\"p-4\">\r\n                            <div class=\"bg-gray-100 p-2\">\r\n                                <!-- Hiển thị thông tin chi tiết ở đây -->\r\n                                <p><strong>Chi tiết đơn hàng #{{ orderDetail.orderId }}</strong></p>\r\n                                <p>Khách hàng: {{ orderDetail.user.username }}</p>\r\n                                <p>Địa chỉ: {{ orderDetail.address }}</p>\r\n                                <p>Số điện thoại: {{ orderDetail.phone }}</p>\r\n                                <!-- Thêm thông tin chi tiết khác -->\r\n                            </div>\r\n                        </td>\r\n                    </tr>  \r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <!-- <div class=\"absolute bottom-0 right-0\">\r\n            <div class=\"flex gap-2\">\r\n                <font-awesome-icon icon=\"arrow-left\" v-if=\"page>1\" @click=\"prevPage\" class=\"p-2 bg-blue-400 hover:cursor-pointer\"/>\r\n                <font-awesome-icon icon=\"arrow-right\" @click=\"nextPage\" class=\"p-2 bg-blue-400 hover:cursor-pointer\"/>\r\n            </div>\r\n        </div> -->\r\n    </div>\r\n</template>\r\n<script>\r\nimport { mdiChevronRight,mdiCheckCircle, mdiCloseCircle } from '@mdi/js';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n\r\nexport default {\r\n    name:'OrderView',\r\n    props:['updateTotal'],\r\n    data(){\r\n        return{\r\n            data:[],\r\n            page:1,\r\n            limit:20,\r\n            mdiChevronRight,mdiCheckCircle,mdiCloseCircle,\r\n            selectedOrderId:null,\r\n            orderDetail:\"\"\r\n        }\r\n    },\r\n    mounted(){\r\n        this.getOrder()\r\n    },\r\n    methods:{\r\n        formatDate(date) {\r\n            return moment(date).format('YYYY-MM-DD');\r\n        },\r\n        toggleDetails(orderId) {\r\n            this.selectedOrderId = this.selectedOrderId === orderId ? null : orderId;\r\n            this.getOrderDetail()\r\n        },\r\n        async getOrder(){\r\n            try {\r\n                const res=await axios.get(`/Order/GetAll?page=${this.page}&limit=${this.limit}`)\r\n                this.data=res.data\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        },\r\n        async getOrderDetail(){\r\n            try {\r\n                const res=await axios.get(`/Order/GetById/${this.selectedOrderId}`)\r\n                this.orderDetail=res.data\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        },\r\n        async Update(id,paymentStatus,shippingStatus){\r\n            try {\r\n                let newStatusPayment;\r\n                let newStatusShipping;\r\n                if(paymentStatus===\"Chưa thanh toán\"){\r\n                    newStatusPayment=\"Đã thanh toán\"\r\n                }else{\r\n                    newStatusPayment=\"Đã thanh toán\"\r\n                }\r\n                if(shippingStatus===\"Chưa chuyển\"){\r\n                    newStatusShipping=\"Đã giao\"\r\n                }else{\r\n                    newStatusShipping=\"Đã giao\"\r\n                }\r\n                await axios.patch(`/Order/update/${id}`,{\r\n                    paymentStatus:newStatusPayment,\r\n                    shippingStatus:newStatusShipping\r\n\r\n                })\r\n                this.getOrder()\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n    },\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OrderView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OrderView.vue?vue&type=template&id=581f3a9f\"\nimport script from \"./OrderView.vue?vue&type=script&lang=js\"\nexport * from \"./OrderView.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","name","_v","mdiChevronRight","_m","_l","data","item","key","orderId","on","$event","toggleDetails","_s","formatDate","createDate","_f","totalAmount","paymentStatus","shippingStatus","class","Update","mdiCheckCircle","mdiCloseCircle","selectedOrderId","orderDetail","user","username","address","phone","_e","staticRenderFns","props","page","limit","mounted","getOrder","methods","date","moment","format","getOrderDetail","res","axios","get","err","console","log","id","newStatusPayment","newStatusShipping","patch","component"],"sourceRoot":""}